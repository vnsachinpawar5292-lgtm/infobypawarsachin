<!DOCTYPE html>
<html lang="te">
<head>
<meta charset="UTF-8">
<title>Saffron Village & Study Hub</title>
<style>
:root { --saffron: #FF9933; --deep: #D35400; }
body { background: #FFF5EC; font-family: sans-serif; margin: 0; padding: 10px 10px 60px 10px; touch-action: manipulation; position: relative; min-height: 100vh; }
.head { text-align: center; color: var(--deep); border-bottom: 4px solid var(--saffron); padding-bottom: 10px; }
.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 15px; }
.box { background: white; border-radius: 12px; padding: 15px; border-top: 6px solid var(--saffron); box-shadow: 0 4px 10px #0001; }
.sym { background: var(--saffron); color: white; padding: 2px 8px; border-radius: 4px; font-weight: bold; margin-right: 5px; }

/* Buttons */
.btn { border: none; padding: 12px; width: 100%; cursor: pointer; border-radius: 8px; font-weight: bold; margin-top: 8px; }
.btn-up { background: var(--saffron); color: white; }
.btn-pdf { background: #e74c3c; color: white; }
.btn-rough { background: #3498db; color: white; }

/* DELETE LOGIC - OWNER ONLY */
.btn-del { background: #ff5252; color: white; display: none; }
.is-owner .btn-del { display: block; }
.owner-ctrl { display: none; margin-top: 10px; border-top: 1px dashed #ccc; padding-top: 10px; }
.is-owner .owner-ctrl { display: block; }

/* Watermark */
.watermark { position: fixed; bottom: 10px; right: 15px; color: rgba(211, 84, 0, 0.4); font-size: 14px; font-weight: bold; pointer-events: none; }

/* Drawing Pad */
#roughSheetOverlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; }
.sheet-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 95%; height: 90%; background: white; border-radius: 15px; display: flex; flex-direction: column; }
canvas { background: #fff; flex-grow: 1; touch-action: none; }
.controls { padding: 10px; background: #eee; display: flex; gap: 5px; }

.vid { width: 100%; aspect-ratio: 9/16; background: #000; border-radius: 10px; margin-top: 10px; border: none; }
textarea { width: 100%; border: 1px solid #FFCC80; border-radius: 5px; padding: 8px; box-sizing: border-box; }
.admin-nav { background: var(--deep); color: white; padding: 10px; text-align: center; border-radius: 5px; margin-bottom: 15px; }
</style>
</head>
<body id="b">

<div class="admin-nav">
<span id="status">VISITOR VIEW</span> |
<button onclick="unlock()" style="cursor:pointer; padding:5px; border-radius:4px; border:none;">Admin Login</button>
</div>

<h1 class="head">‡∞∏‡∞∞‡±ç‡∞™‡∞Ç‡∞ö‡±ç ‡∞µ‡∞æ‡∞∞‡±ç‡∞°‡±ç ‡∞∏‡±ç‡∞ü‡∞°‡±Ä ‡∞π‡∞¨‡±ç</h1>

<div class="grid">
<div class="box">
<h3><span class="sym">‚úé</span> Agriculture</h3>
<iframe class="vid" src="https://www.youtube.com/embed/videoseries?list=PL_Xv6luep8_ajkS9897u6N_7vX7D1M_H_"></iframe>
<div id="agDisp" style="font-size:14px; color:#444; margin:5px 0;"></div>
<input type="file" id="p1" style="display:none"><button class="btn btn-up" onclick="document.getElementById('p1').click()">üì∑ Public Upload</button>
<div class="owner-ctrl">
<textarea id="agNotes" placeholder="Agri Updates..."></textarea>
<button class="btn" style="background:#27ae60; color:white" onclick="save('agNotes')">üíæ Save Update</button>
<button class="btn btn-del" onclick="del('agNotes')">üóë Owner: Delete All</button>
</div>
</div>

<div class="box">
<h3><span class="sym">‚úé</span> Study Hub</h3>
<button class="btn btn-rough" onclick="openRS()">‚úçÔ∏è Open Drawing Sheet</button>
<div id="stDisp" style="margin:10px 0; font-size:14px; background:#FFF9F0; padding:5px;"></div>
<input type="file" id="p2" style="display:none" accept=".pdf"><button class="btn btn-pdf" onclick="document.getElementById('p2').click()">üìÑ Public Upload PDF</button>
<div class="owner-ctrl">
<textarea id="stNotes" placeholder="Study Updates..."></textarea>
<button class="btn" style="background:#27ae60; color:white" onclick="save('stNotes')">üíæ Save Update</button>
<button class="btn btn-del" onclick="del('stNotes')">üóë Owner: Delete All</button>
</div>
</div>

<div class="box">
<h3><span class="sym">‚úé</span> Village Cleaning</h3>
<iframe class="vid" src="https://www.youtube.com/embed/videoseries?list=PLmdfp9pA6Y_i_5x0v3X0vX6vXv5pA6Y_i"></iframe>
<div id="clDisp" style="font-size:14px; color:#444; margin:5px 0;"></div>
<div class="owner-ctrl">
<textarea id="clNotes" placeholder="Cleaning Updates..."></textarea>
<button class="btn" style="background:#27ae60; color:white" onclick="save('clNotes')">üíæ Save Update</button>
<button class="btn btn-del" onclick="del('clNotes')">üóë Owner: Delete All</button>
</div>
</div>
</div>

<div class="watermark">@infobypawarsachin</div>

<div id="roughSheetOverlay">
<div class="sheet-container">
<div class="controls">
<button id="pBtn" style="padding:10px; background:var(--saffron); border:none; border-radius:5px;" onclick="useTool('pencil')">‚úèÔ∏è Pencil</button>
<button id="eBtn" style="padding:10px; background:#ddd; border:none; border-radius:5px;" onclick="useTool('eraser')">üßΩ Eraser</button>
<button style="padding:10px; background:#ff5252; color:white; border:none; border-radius:5px;" onclick="ctx.clearRect(0,0,canvas.width,canvas.height)">üóë Clear</button>
<button style="padding:10px; background:#333; color:white; border:none; border-radius:5px; flex-grow:1;" onclick="document.getElementById('roughSheetOverlay').style.display='none'">Close</button>
</div>
<canvas id="canvas"></canvas>
</div>
</div>

<script>
const pass = "5292";
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let drawMode = false, tool = 'pencil';

function unlock() { if(prompt("Password:") === pass) { document.getElementById('b').classList.add('is-owner'); document.getElementById('status').innerText="OWNER MODE"; } }

function save(id) { localStorage.setItem(id, document.getElementById(id).value); load(); alert("Saved!"); }

function del(id) { if(confirm("Delete everything in this box?")) { localStorage.removeItem(id); load(); } }

function load() {
const data = { 'agNotes':'agDisp', 'stNotes':'stDisp', 'clNotes':'clDisp' };
for (let k in data) {
let val = localStorage.getItem(k) || "No news yet.";
document.getElementById(k).value = val === "No news yet." ? "" : val;
document.getElementById(data[k]).innerHTML = "<b>Info:</b> " + val;
}
}

function openRS() { document.getElementById('roughSheetOverlay').style.display='block'; canvas.width=canvas.offsetWidth; canvas.height=canvas.offsetHeight; useTool('pencil'); }
function useTool(t) { tool=t; ctx.lineWidth=t==='eraser'?30:3; ctx.strokeStyle=t==='eraser'?'#fff':'#D35400'; document.getElementById('pBtn').style.background=t==='pencil'?'#FF9933':'#ddd'; document.getElementById('eBtn').style.background=t==='eraser'?'#FF9933':'#ddd'; }
function start(e) { drawMode=true; painting(e); }
function end() { drawMode=false; ctx.beginPath(); }
function painting(e) {
if(!drawMode) return;
let r=canvas.getBoundingClientRect();
let x=(e.clientX||e.touches[0].clientX)-r.left;
let y=(e.clientY||e.touches[0].clientY)-r.top;
ctx.lineTo(x,y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x,y);
}
canvas.addEventListener('mousedown',start); canvas.addEventListener('mouseup',end); canvas.addEventListener('mousemove',painting);
canvas.addEventListener('touchstart',start); canvas.addEventListener('touchend',end); canvas.addEventListener('touchmove',painting);
window.onload = load;
</script>
</body>
</html>
